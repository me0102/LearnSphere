<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Final - SQL</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f8f9fa;
    }
    h2 {
      color: #333;
    }
    .question {
      background-color: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .question p {
      font-weight: bold;
    }
    label {
      display: block;
      margin: 8px 0;
    }
    button {
      padding: 12px 24px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background-color: #0056b3;
    }
    #result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }
    .success {
      color: green;
    }
    .fail {
      color: red;
    }
  </style>
</head>
<body>
  <h2>Test Final - SÃ©curitÃ© des Bases de DonnÃ©es</h2>
  <form id="quizForm">
    <!-- Les 20 questions seront gÃ©nÃ©rÃ©es par JavaScript -->
  </form>
  <button onclick="corriger()">Soumettre</button>
  <div id="result"></div>

  <script>
    const questions = [
      {
        q: "Quel principe fondamental de la sÃ©curitÃ© des bases de donnÃ©es vise Ã  garantir que seules les personnes autorisÃ©es peuvent accÃ©der aux donnÃ©es sensibles ?",
        a: "a",
        o: ["ConfidentialitÃ©", "IntÃ©gritÃ©", "DisponibilitÃ©", "RÃ©plication"]
      },
      {
        q: "Quelle est la meilleure pratique pour limiter les privilÃ¨ges d'accÃ¨s aux utilisateurs dans une base de donnÃ©es ?",
        a: "b",
        o: [
          "Accorder tous les privilÃ¨ges Ã  l'utilisateur root",
          "CrÃ©er des utilisateurs avec des droits minimaux nÃ©cessaires pour leurs tÃ¢ches",
          "Utiliser un mot de passe facile Ã  retenir",
          "Accorder les mÃªmes privilÃ¨ges Ã  tous les utilisateurs"
        ]
      },
      {
        q: "Quelle fonction SQL permet de protÃ©ger une entrÃ©e utilisateur contre les injections SQL en l'Ã©chappant correctement ?",
        a: "a",
        o: [
          "mysqli_real_escape_string()",
          "password_hash()",
          "SELECT",
          "INJECT()"
        ]
      },
      {
        q: "Quelle mÃ©thode d'authentification est recommandÃ©e pour sÃ©curiser l'accÃ¨s Ã  une base de donnÃ©es ?",
        a: "b",
        o: [
          "Utiliser uniquement des mots de passe simples",
          "Utiliser une authentification Ã  deux facteurs (2FA)",
          "Laisser les utilisateurs se connecter sans mot de passe",
          "Limiter les connexions Ã  partir de n'importe quel appareil"
        ]
      },
      {
        q: "Quelle est la mÃ©thode recommandÃ©e pour se protÃ©ger contre les attaques par injection SQL ?",
        a: "a",
        o: [
          "Utiliser des requÃªtes prÃ©parÃ©es et des paramÃ¨tres liÃ©s",
          "Utiliser des requÃªtes dynamiques",
          "Ne pas valider les entrÃ©es utilisateurs",
          "Utiliser des mots de passe faibles pour les utilisateurs"
        ]
      },
      {
        q: "Quel algorithme est recommandÃ© pour le hachage des mots de passe dans une application PHP ?",
        a: "b",
        o: ["MD5", "bcrypt", "SHA-1", "DES"]
      },
      {
        q: "Quel est l'avantage d'utiliser des requÃªtes prÃ©parÃ©es avec des paramÃ¨tres liÃ©s ?",
        a: "b",
        o: [
          "Elles amÃ©liorent les performances du serveur",
          "Elles empÃªchent les injections SQL",
          "Elles permettent d'ignorer les permissions utilisateur",
          "Elles suppriment les tables inutiles"
        ]
      },
      {
        q: "Que permet le chiffrement des donnÃ©es sensibles dans une base de donnÃ©es ?",
        a: "c",
        o: [
          "Dâ€™accÃ©lÃ©rer les requÃªtes SQL",
          "De rendre les donnÃ©es accessibles Ã  tous",
          "De protÃ©ger les donnÃ©es mÃªme si un attaquant accÃ¨de Ã  la base",
          "Dâ€™empÃªcher les sauvegardes de donnÃ©es"
        ]
      },
      {
        q: "Quelle est la meilleure pratique pour protÃ©ger les donnÃ©es sensibles dans la base de donnÃ©es ?",
        a: "a",
        o: [
          "Chiffrer les donnÃ©es au repos et en transit",
          "Ne pas stocker de donnÃ©es sensibles",
          "Accorder des privilÃ¨ges dâ€™accÃ¨s administratifs Ã  tous les utilisateurs",
          "Utiliser un mot de passe simple pour les connexions"
        ]
      },
      {
        q: "Quelle est la principale fonctionnalitÃ© du SSL/TLS dans la sÃ©curitÃ© des bases de donnÃ©es ?",
        a: "b",
        o: [
          "Chiffrer les donnÃ©es stockÃ©es",
          "ProtÃ©ger les donnÃ©es en transit entre le client et le serveur",
          "ProtÃ©ger contre les attaques par injection SQL",
          "Limiter l'accÃ¨s aux utilisateurs internes seulement"
        ]
      },
      {
        q: "Qu'est-ce que l'injection SQL ?",
        a: "b",
        o: [
          "Une mÃ©thode de stockage des donnÃ©es",
          "Une attaque oÃ¹ un attaquant insÃ¨re des instructions SQL malveillantes dans une requÃªte",
          "Un processus d'optimisation des requÃªtes SQL",
          "Une technique pour amÃ©liorer la performance des bases de donnÃ©es"
        ]
      },
      {
        q: "Quelle pratique est recommandÃ©e pour empÃªcher les injections SQL ?",
        a: "a",
        o: [
          "Valider et nettoyer toutes les entrÃ©es utilisateur",
          "Accepter les entrÃ©es sans vÃ©rification",
          "Utiliser des mots de passe courts et simples",
          "RÃ©duire le chiffrement des donnÃ©es"
        ]
      },
      {
        q: "Quel rÃ´le joue un mot de passe hachÃ© dans la sÃ©curisation des donnÃ©es ?",
        a: "c",
        o: [
          "Il est utilisÃ© pour rÃ©cupÃ©rer les donnÃ©es sensibles",
          "Il est directement stockÃ© en clair dans la base de donnÃ©es",
          "Il protÃ¨ge les mots de passe en les rendant illisibles mÃªme si la base est compromise",
          "Il permet de partager les mots de passe entre utilisateurs"
        ]
      },
      {
        q: "Quel est le principal avantage d'utiliser une sauvegarde chiffrÃ©e de la base de donnÃ©es ?",
        a: "c",
        o: [
          "AmÃ©liorer la vitesse des requÃªtes",
          "Assurer que les donnÃ©es sont lisibles mÃªme si la sauvegarde est volÃ©e",
          "ProtÃ©ger les donnÃ©es en cas de vol de la sauvegarde",
          "Optimiser les performances de la base de donnÃ©es"
        ]
      },
      {
        q: "Pourquoi est-il important de tester rÃ©guliÃ¨rement la rÃ©cupÃ©ration des donnÃ©es Ã  partir des sauvegardes ?",
        a: "a",
        o: [
          "Pour s'assurer que les sauvegardes sont bien exÃ©cutÃ©es",
          "Pour Ã©viter les erreurs dans le code",
          "Pour assurer la conformitÃ© avec les rÃ©glementations fiscales",
          "Pour tester les performances du serveur"
        ]
      },
      {
        q: "Quel est l'objectif principal des audits de sÃ©curitÃ© dans la gestion des bases de donnÃ©es ?",
        a: "a",
        o: [
          "Identifier et corriger les vulnÃ©rabilitÃ©s de sÃ©curitÃ©",
          "Ajouter de nouveaux utilisateurs Ã  la base de donnÃ©es",
          "AmÃ©liorer la vitesse des requÃªtes SQL",
          "Ajouter des donnÃ©es inutiles pour tester les performances"
        ]
      },
      {
        q: "Quel type de donnÃ©es sensibles doit Ãªtre chiffrÃ© dans une base de donnÃ©es ?",
        a: "b",
        o: [
          "Les dates et heures des requÃªtes",
          "Les informations financiÃ¨res et personnelles, comme les numÃ©ros de carte de crÃ©dit",
          "Les index de base de donnÃ©es",
          "Les chemins de fichiers dans la base"
        ]
      },
      {
        q: "Que signifie la rÃ¨gle du principe du moindre privilÃ¨ge ?",
        a: "b",
        o: [
          "Donner des privilÃ¨ges Ã©levÃ©s Ã  tous les utilisateurs",
          "Limiter l'accÃ¨s aux ressources uniquement aux utilisateurs qui en ont besoin",
          "Augmenter les privilÃ¨ges d'accÃ¨s des utilisateurs",
          "Permettre Ã  tout utilisateur d'accÃ©der Ã  toutes les bases de donnÃ©es"
        ]
      },
      {
        q: "Pourquoi est-il important d'utiliser des sauvegardes rÃ©guliÃ¨res des bases de donnÃ©es ?",
        a: "a",
        o: [
          "Pour Ã©viter la perte de donnÃ©es en cas de panne du systÃ¨me",
          "Pour augmenter les performances du serveur",
          "Pour Ã©viter de gÃ©rer des utilisateurs de maniÃ¨re optimale",
          "Pour rÃ©duire la taille de la base de donnÃ©es"
        ]
      },
      {
        q: "Quelle mÃ©thode est utilisÃ©e pour vÃ©rifier les accÃ¨s Ã  la base de donnÃ©es dans un environnement sÃ©curisÃ© ?",
        a: "a",
        o: [
          "CrÃ©er un journal d'audit pour enregistrer toutes les actions des utilisateurs",
          "Laisser tous les accÃ¨s sans enregistrement",
          "Utiliser un mot de passe simple pour tous les utilisateurs",
          "Supprimer les journaux de sÃ©curitÃ©"
        ]
      }
    ];

    const quizForm = document.getElementById('quizForm');
    questions.forEach((q, i) => {
      const div = document.createElement('div');
      div.className = 'question';
      div.innerHTML = `<p>${i + 1}. ${q.q}</p>` + q.o.map((opt, j) => `
        <label><input type="radio" name="q${i}" value="${String.fromCharCode(97 + j)}"> ${opt}</label>
      `).join('');
      quizForm.appendChild(div);
    });

    function corriger() {
      let score = 0;
      questions.forEach((q, i) => {
        const userAnswer = document.querySelector(`input[name=q${i}]:checked`);
        if (userAnswer && userAnswer.value === q.a) score++;
      });
      const resultDiv = document.getElementById("result");
      if (score >= 15) {
        resultDiv.innerHTML = `<p class='success'>FÃ©licitations ! Vous avez obtenu ${score}/20. Vous Ãªtes validÃ© ðŸŽ‰.</p>
        <a href='../cours.html'><button>Passer au cours suivant</button></a>`;
      } else {
        resultDiv.innerHTML = `<p class='fail'>Vous avez obtenu ${score}/20. Veuillez revoir le cours.</p>
        <a href='lecon_sql.html'><button>Revenir au cours</button></a>`;
      }
    }
  </script>
</body>
</html>